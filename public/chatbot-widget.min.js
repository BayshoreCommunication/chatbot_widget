(()=>{(function(){let o={apiKey:"",position:"bottom-right"};function d(){let t=document.getElementsByTagName("script"),e=t[t.length-1];if(e.getAttribute("data-api-key")&&(o.apiKey=e.getAttribute("data-api-key")||""),e.getAttribute("data-position")&&(o.position=e.getAttribute("data-position")||"bottom-right"),!o.apiKey){let i=new URLSearchParams(window.location.search);i.has("chatbot-api-key")&&(o.apiKey=i.get("chatbot-api-key")||"")}return o.apiKey?!0:(console.error("Chatbot widget error: No API key provided. Add data-api-key attribute to script tag."),!1)}function s(){let t=document.createElement("style");t.textContent=`
      .chatbot-widget-container {
        position: fixed;
        z-index: 9999;
        width: 375px;
        height: 600px;
        box-shadow: 0 5px 40px rgba(0, 0, 0, 0.16);
        border-radius: 16px;
        overflow: hidden;
        transition: transform 0.3s ease;
      }
      .chatbot-widget-container.bottom-right {
        bottom: 100px;
        right: 20px;
      }
      .chatbot-widget-container.bottom-left {
        bottom: 100px;
        left: 20px;
      }
      .chatbot-widget-container.top-right {
        top: 100px;
        right: 20px;
      }
      .chatbot-widget-container.top-left {
        top: 100px;
        left: 20px;
      }
      .chatbot-widget-container.hidden {
        transform: translateY(150%);
      }
      .chatbot-toggle-button {
        position: fixed;
        z-index: 10000;
        border: none;
        border-radius: 50%;
        width: 60px;
        height: 60px;
        background-color: #4A6CF7;
        color: white;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 24px;
        transition: all 0.3s ease;
      }
      .chatbot-toggle-button:hover {
        transform: scale(1.05);
        box-shadow: 0 2px 15px rgba(0, 0, 0, 0.3);
      }
      .chatbot-toggle-button.bottom-right {
        bottom: 20px;
        right: 20px;
      }
      .chatbot-toggle-button.bottom-left {
        bottom: 20px;
        left: 20px;
      }
      .chatbot-toggle-button.top-right {
        top: 20px;
        right: 20px;
      }
      .chatbot-toggle-button.top-left {
        top: 20px;
        left: 20px;
      }
      .chatbot-iframe {
        width: 100%;
        height: 100%;
        border: none;
      }
    `,document.head.appendChild(t)}function c(){let t=document.createElement("button");t.className=`chatbot-toggle-button ${o.position}`,t.innerHTML=`
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
      </svg>
    `;let e=document.createElement("div");e.className=`chatbot-widget-container ${o.position} hidden`;let i=document.createElement("iframe");i.className="chatbot-iframe";let r=new URL("https://aibotwizard.vercel.app/chatbot-embed");r.searchParams.append("apiKey",o.apiKey),i.src=r.toString(),e.appendChild(i),document.body.appendChild(t),document.body.appendChild(e);let n=!1;t.addEventListener("click",()=>{n=!n,n?(e.classList.remove("hidden"),t.innerHTML=`
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
          </svg>
        `):(e.classList.add("hidden"),t.innerHTML=`
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
          </svg>
        `)})}function a(){d()&&(s(),c(),console.log("Chatbot widget initialized with API key:",o.apiKey))}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",a):a()})();})();
